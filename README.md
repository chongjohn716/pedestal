# Pedestal

借助 single-spa 搭建应用平台，主要基于 vue 技术栈

## 现状

部门有一个应用平台和多个业务应用，业务应用在业务平台注册，通过 Portal 提供应用入口，平台提供注册、授权、鉴权、API 权限、应用菜单权限、国际化等公共能力。

业务应用独立部署，通过网关提供独立 url，在 Portal 中借助 iframe 来加载展示。

绝大部分应用统一技术栈，vue、vue-router、vuex(可选，大部分都用上)、axios、element-ui 和其他自研库

## 痛点

主要还是 iframe 问题，成也萧何，败也萧何，iframe 提供天然隔离能力，但同时也带了很多问题，如history、加载阻塞、公共库不能共享、rem 不能共享、卸载后内存残留、应用内模态遮罩

总结（性能、体验）：

1. 性能 (加载, 内存, 白屏)
2. 风格 (rem, css reset)
3. 组装痕迹 (遮罩)
4. history，刷新路由丢失

## 方案

## 架构

## 问题

<!-- 1. 应用以 umd 模块编译, 需要指定一个全局命名空间, 注意各应用全局命名空间不能重复, 否则 `Systemjs` 解析有误 -->

## 应用开发规范

### Namespace

## 开发环境

## 工具链

## TODO

- [x] 加载 umd 单文件
- [ ] vue-router 路由融合
- [ ] 基于路由的代码拆分
